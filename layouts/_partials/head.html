<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

{{ $pageTitle := .Site.Title }}
{{ if not .IsHome }}
    {{ $pageTitle = printf "%s - %s" .Title .Site.Title }}
{{ end }}


<title>{{- $pageTitle -}}</title>

<link rel="sitemap" href="/sitemap.xml">

{{/* https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs */}}
<link rel="icon" href="/favicon.ico" sizes="32x32">
{{ with $img := resources.Get "images/icon.svg" }}
    {{ $newFilename := printf "%s.%s.%s" (path.BaseName .Name) (hash.XxHash .Content) (.MediaType.FirstSuffix.Suffix) }}
    {{ $img = resources.Copy $newFilename . }}
    <link rel="icon" href="{{- $img.RelPermalink -}}" type="image/svg+xml">
{{ end }}

{{ with $img := resources.Get "images/apple-touch-icon.png" }}
    {{ $newFilename := printf "%s.%s.%s" (path.BaseName .Name) (hash.XxHash .Content) (.MediaType.FirstSuffix.Suffix) }}
    {{ $img = resources.Copy $newFilename . }}
    <link rel="apple-touch-icon" href="{{- $img.RelPermalink -}}">
{{ end }}


<link rel="canonical" href="{{- .Permalink -}}">
{{ with .AllTranslations }}
    {{ range . }}
        <link rel="alternate" hreflang="{{- .Language.LanguageCode -}}" href="{{- .Permalink -}}">
    {{ end }}
{{ end }}
{{ $defaultPage := index (where .AllTranslations "Language.LanguageCode" "eq" "en-GB") 0 }}
<link rel="alternate" hreflang="x-default" href="{{- $defaultPage.Permalink -}}">

<meta property="og:title" content="{{- $pageTitle -}}">
