---
import HeaderLink from "@/components/HeaderLink.astro";
import headerNav from "@/data/header-nav";
import { useTranslations } from "@/utils/i18n";
import { routeLocale } from "@/utils/routes";

const locale = routeLocale(Astro.routePattern, Astro.currentLocale);
const t = useTranslations("layout", locale);
const links = headerNav.length > 0 ? headerNav.filter((link) => !link.disabled) : ([] as typeof headerNav);
---

{
    links.length > 0 && (
        <nav class="my-4" aria-label={t("headerNav")}>
            <ul class="flex gap-x-4">
                {links.map((link) => (
                    <li>
                        <HeaderLink href={link.href}>{link.label[locale]}</HeaderLink>
                    </li>
                ))}
            </ul>
        </nav>
    )
}
