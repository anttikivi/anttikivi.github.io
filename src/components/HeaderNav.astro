---
import HeaderLink from "@/components/HeaderLink.astro";
import headerNav from "@/data/header-nav";
import { useTranslations } from "@/utils/i18n";
import { routeLocale } from "@/utils/routes";

interface Props {
    class?: string;
}

const { class: className } = Astro.props;

const locale = routeLocale(Astro.routePattern, Astro.currentLocale);
const t = useTranslations("layout", locale);
const links = headerNav.length > 0 ? headerNav.filter((link) => !link.disabled) : ([] as typeof headerNav);
---

{
    links.length > 0 && (
        <nav class={className} aria-label={t("headerNav")}>
            <ul>
                {links.map((link) => (
                    <li>
                        <HeaderLink href={link.href}>{link.label[locale]}</HeaderLink>
                    </li>
                ))}
            </ul>
        </nav>
    )
}

<style>
    ul {
        display: flex;
        column-gap: 1rem;
        list-style: none;
        padding-inline-start: 0;
        margin: 0;
    }
</style>
